create database taxi ;
  
CREATE TABLE IF NOT EXISTS `taxi`.`customer` (
  `customer_id` INT NOT NULL AUTO_INCREMENT,
  `customer_name` VARCHAR(200) NOT NULL,
  `start` VARCHAR(45) NOT NULL,
  `end` VARCHAR(45) NOT NULL,
  `age` VARCHAR(45) NOT NULL,
  `gender` VARCHAR(45) NOT NULL,
  `email` VARCHAR(45) NOT NULL,
  `phone` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`customer_id`),
  UNIQUE INDEX `customer_id_UNIQUE` (`customer_id` ASC) VISIBLE)
COMMENT = 'To store customer info';

CREATE TABLE IF NOT EXISTS `taxi`.`booking` (
  `booking_no` INT NOT NULL AUTO_INCREMENT,
  `pickup_from` VARCHAR(45) NOT NULL,
  `drop_at` VARCHAR(45) NOT NULL,
  `customer_id` VARCHAR(45) NOT NULL,
  `vehicle_no` VARCHAR(45) NOT NULL,
  `driver_id` INT NOT NULL,
  `fare` DOUBLE NOT NULL,
  PRIMARY KEY (`booking_no`),
  UNIQUE INDEX `booking_no_UNIQUE` (`booking_no` ASC) VISIBLE)
COMMENT = 'To store booking info';

CREATE TABLE IF NOT EXISTS `taxi`.`login_info` (
  `user_id` VARCHAR(50) NOT NULL,
  `username` VARCHAR(50) NOT NULL,
  `password1` VARCHAR(45) NOT NULL,
  `password2` VARCHAR(45) NOT NULL,
  `password3` VARCHAR(45) NOT NULL,
  `password4` VARCHAR(45) NOT NULL,
  `role` VARCHAR(45) NOT NULL,
  `created_user` VARCHAR(45) NOT NULL,
  `create_time` DATETIME NOT NULL,
  `last_login` DATETIME NOT NULL,
  PRIMARY KEY (`user_id`),
  UNIQUE INDEX `user_id_UNIQUE` (`user_id` ASC) VISIBLE)
COMMENT = 'To store login users and their activity';

CREATE TABLE IF NOT EXISTS `taxi`.`route_service` (
  `start` VARCHAR(50) NOT NULL,
  `end` VARCHAR(45) NOT NULL,
  `id` int UNIQUE NOT NULL AUTO_INCREMENT,
  PRIMARY KEY (`start`, `end`),
  UNIQUE INDEX `start_UNIQUE` (`start` ASC) VISIBLE,
  UNIQUE INDEX `end_UNIQUE` (`end` ASC) VISIBLE)
COMMENT = 'To store routes of service';

CREATE TABLE IF NOT EXISTS `taxi`.`vehicle` (
  `vehicle_no` INT NOT NULL,
  `brand` VARCHAR(45) NOT NULL,
  `model` VARCHAR(45) NOT NULL,
  `color` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`no`),
  UNIQUE INDEX `no_UNIQUE` (`no` ASC) VISIBLE)
COMMENT = 'To store vehicle info';

CREATE TABLE IF NOT EXISTS `taxi`.`route` (
  `vehicle_no` INT NOT NULL,
  `start` VARCHAR(45) NOT NULL,
  `end` VARCHAR(45) NOT NULL,
  `fare` DOUBLE NOT NULL,
  PRIMARY KEY (`no`),
  INDEX `start_idx` (`start` ASC) VISIBLE,
  INDEX `end_idx` (`end` ASC) VISIBLE,
  CONSTRAINT `start`
    FOREIGN KEY (`start`)
    REFERENCES `taxi`.`route_service` (`start`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `end`
    FOREIGN KEY (`end`)
    REFERENCES `taxi`.`route_service` (`end`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `no`
    FOREIGN KEY (`no`)
    REFERENCES `taxi`.`vehicle` (`no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
COMMENT = 'To Store available  route services ';

CREATE TABLE IF NOT EXISTS `taxi`.`driver` (
  `driver_id` INT NOT NULL AUTO_INCREMENT,
  `driver_name` VARCHAR(45) NOT NULL,
  `age` INT NOT NULL,
  `gender` VARCHAR(45) NOT NULL,
  `city` VARCHAR(45) NOT NULL,
  `phone` VARCHAR(45) NOT NULL,
  `no` INT NOT NULL,
  PRIMARY KEY (`id`),
    FOREIGN KEY (`no`)
    REFERENCES `taxi`.`vehicle` (`no`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
COMMENT = 'To store driver info';

CREATE TABLE IF NOT EXISTS `car_brand` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `title` varchar(55) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ;
CREATE TABLE IF NOT EXISTS `model` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `make_id` int(10) NOT NULL REFERENCES CAR_BRAND(id),
  `title` varchar(125) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ;

commit;




