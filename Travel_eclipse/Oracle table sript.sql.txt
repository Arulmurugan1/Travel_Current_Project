drop table user_user_profile;
drop table booking;
drop table customer;
drop table driver;
drop table route;
drop table vehicle;
drop table route_service;
drop table model;
drop table car_brand ;

create table route_service
( s_no int GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) PRIMARY KEY,
  PICKUP VARCHAR(50) UNIQUE NOT NULL,
  DESTINATION VARCHAR(50) UNIQUE NOT NULL );

CREATE TABLE VEHICLE
( VEHICLE_NO INT PRIMARY KEY,
  PICKUP NOT NULL REFERENCES ROUTE_SERVICE (PICKUP),
  DESTINATION NOT NULL REFERENCES ROUTE_SERVICE (DESTINATION));

create table driver 
( id int GENERATED BY DEFAULT AS IDENTITY (START WITH 200 INCREMENT BY 1) primary key,
  name varchar(100) not null,
  age int check(age>18) not null,
  phone int not null,
  gender varchar(50) not null,
  city varchar(50) not null,
  vehcile_no not null references vehicle (vehicle_no) );
  
create table route
( vehicle_no not null references vehicle(vehicle_no),
  pickup not null references route_service(pickup),
  destination not null references route_service(destination),
  fare FLOAT (4) not null primary key );
  

create table user_user_profile 
( id int GENERATED AS IDENTITY primary key,
  user_name varchar(50) not null,
  user_id varchar(50) not null,
  password1 varchar2(8) not null,
  password2 varchar2(8) not null,
  password3 varchar2(8) not null,
  password4 varchar2(8) not null,
  created timestamp with time zone,
  last_updated timestamp with time zone,
  last_login timestamp with time zone );
  

CREATE TABLE CUSTOMER
( CUSTOMER_ID int GENERATED BY DEFAULT AS IDENTITY (START WITH 150 INCREMENT BY 1) primary key,
  CUSTOMER_NAME VARCHAR(50) NOT NULL,
  AGE INT NOT NULL,
  PHONE INT NOT NULL,
  GENDER VARCHAR(1) NOT NULL,
  EMAIL VARCHAR2(50) NOT NULL,
  PICKUP VARCHAR2(50) NOT NULL,
  DESTINATION VARCHAR2(50) NOT NULL
);


create table booking 
( BOOKING_NO int GENERATED BY DEFAULT AS IDENTITY (START WITH 100 INCREMENT BY 1) primary key,
  CUSTOMER_NAME varchar(50) not null,
  PICKUP VARCHAR(50) NOT NULL,
  DESTINATION VARCHAR(50)  NOT NULL ,
  VEHICLE_NO INT NOT NULL,
  DRIVER_ID INT NOT NULL,
  CUSTOMER_ID NOT NULL REFERENCES CUSTOMER(CUSTOMER_ID),
  FARE FLOAT(2) NOT NULL
);

create table car_brand 
( id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) primary key,
  code varchar(50) not null,
  country varchar(50) not null );

create table model 
( id int GENERATED BY DEFAULT AS IDENTITY (START WITH 1 INCREMENT BY 1) primary key,
  code_id not null references car_brand(id),
  models varchar(50) not null );

commit;
    